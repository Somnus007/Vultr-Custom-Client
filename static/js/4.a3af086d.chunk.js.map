{"version":3,"sources":["assets/images/logo.png","utils/index.js","pages/Login/Login.js"],"names":["module","exports","pattern","email","url","required","Login","props","dispatchErrorNotify","httpErrorStatus","common","locale","persist","dispatch","notification","error","message","authorizationDenied","description","loginFirst","authorizationExpired","loginAgain","type","CommonType","SET_COMMON_STATE","payload","handleLogin","event","now","Date","getTime","window","MtaH5","clickStat","uuid","phone","preventDefault","form","history","validateFields","values","a","async","AccountType","LOGIN","callback","push","state","this","getFieldDecorator","className","Helmet","title","href","width","alt","src","logo","onSubmit","autoComplete","Item","rules","prefix","style","color","placeholder","target","htmlType","React","Component","Form","create","name","connect","router","withRouter"],"mappings":"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","file":"static/js/4.a3af086d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.148f17f3.png\";","import qs from 'qs';\n\nexport const parseQueries = queries => {\n  // queries is something like: '?a=1&b=2&name=allen'\n  if (!queries) {\n    return null;\n  }\n  return qs.parse(queries.split('?')[1]);\n};\n\nexport const pattern = {\n  // eslint-disable-next-line\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n  // eslint-disable-next-line\n  url: /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/,\n  required: /\\S/,\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { Form, Icon, Input, Button, notification } from 'antd';\nimport { Helmet } from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport './Login.scss';\nimport { CommonType, AccountType } from '../../constants/ActionTypes';\nimport logo from '../../assets/images/logo.png';\nimport { pattern } from '../../utils';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.dispatchErrorNotify();\n  }\n\n  dispatchErrorNotify = () => {\n    const {\n      common: { httpErrorStatus },\n      persist: { locale },\n      dispatch,\n    } = this.props;\n    if (httpErrorStatus) {\n      if (httpErrorStatus === 401) {\n        notification.error({\n          message: locale.authorizationDenied,\n          description: locale.loginFirst,\n        });\n      } else if (httpErrorStatus === 403) {\n        notification.error({\n          message: locale.authorizationExpired,\n          description: locale.loginAgain,\n        });\n      }\n      dispatch({\n        type: CommonType.SET_COMMON_STATE,\n        payload: { httpErrorStatus: 0 },\n      });\n    }\n  };\n\n  handleLogin = event => {\n    const now = new Date().getTime();\n    window.MtaH5.clickStat('allentestid', {\n      uuid: now,\n      phone: `18888888888(${now})`,\n    });\n    const e = event || window.event;\n    e.preventDefault();\n    const { form, dispatch, history } = this.props;\n    form.validateFields(async (error, values) => {\n      if (!error) {\n        await dispatch({\n          type: AccountType.LOGIN,\n          ...values,\n          callback: () => {\n            history.push('/');\n          },\n        });\n      }\n    });\n  };\n\n  render() {\n    const {\n      // persist: { locale },\n      form: { getFieldDecorator },\n    } = this.props;\n    return (\n      <div className=\"login-container\">\n        <Helmet title=\"Login\" />\n        <div className=\"header-placeholder\">\n          <div className=\"login-header\">\n            <a className=\"logo\" href=\"https://somnus007.github.io/cra-pwa/\">\n              <img width={48} alt=\"logo\" src={logo} />\n            </a>\n          </div>\n        </div>\n        <div className=\"login-center\">\n          <h2>Welcome To Customized Vultr Portal</h2>\n          <h3>\n            Easily deploy cloud servers, bare metal, and storage worldwide\n          </h3>\n          <Form\n            onSubmit={this.handleLogin}\n            className=\"login-form\"\n            autoComplete=\"off\"\n          >\n            <Form.Item>\n              {getFieldDecorator('email', {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Please input a valid email address',\n                    pattern: pattern.email,\n                  },\n                ],\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />\n                  }\n                  placeholder=\"Email\"\n                />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator('apiKey', {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Please input your API key!',\n                    pattern: pattern.required,\n                  },\n                ],\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"key\" style={{ color: 'rgba(0,0,0,.25)' }} />\n                  }\n                  type=\"password\"\n                  autoComplete=\"new-password\"\n                  placeholder=\"API Key\"\n                />\n              )}\n            </Form.Item>\n            <div className=\"signUp\">\n              <span>No account yet?</span>\n              <a target=\"__blank\" href=\"https://www.vultr.com/?ref=8353553-4F\">\n                Sign Up\n              </a>\n            </div>\n            <Form.Item>\n              <Button\n                type=\"primary\"\n                htmlType=\"submit\"\n                className=\"login-form-button\"\n              >\n                Log in\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n        <div className=\"footer-placeholder\">\n          <div className=\"login-footer\">\n            <a target=\"__blank\" href=\"https://www.vultr.com/?ref=8353553-4F\">\n              Vultr\n            </a>\n            <a target=\"__blank\" href=\"https://github.com/Somnus007/cra-pwa\">\n              <Icon type=\"github\" />\n            </a>\n            <a target=\"__blank\" href=\"https://ant.design/docs/react/introduce\">\n              Ant Design\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func,\n  persist: PropTypes.shape(),\n  common: PropTypes.shape(),\n  history: PropTypes.shape(),\n  form: PropTypes.shape(),\n};\n\nexport default Form.create({ name: 'login_form' })(\n  connect(({ persist, router, common }) => ({\n    persist,\n    router,\n    common,\n  }))(withRouter(Login))\n);\n"],"sourceRoot":""}